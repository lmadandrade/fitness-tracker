<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>View Workout Logs</title>
</head>
<body>
  <h1>All Workout Logs</h1>
  <ul id="logList"></ul>

  <script>
    fetch('http://localhost:3000/api/workouts')
      .then(response => response.json())
      .then(logs => {
        const list = document.getElementById('logList');

        logs.forEach(log => {
          const li = document.createElement('li');
          li.innerHTML = `
            🧍 User: ${log.userId} | 🗓️ ${new Date(log.date).toLocaleDateString()}<br>
            ⏱️ Duration: ${log.duration} mins | RPE: ${log.rpe} | Skipped: ${log.wasSkipped ? '✅ Yes' : '❌ No'}
          `;

          if (log.exercises && log.exercises.length > 0) {
            const exList = document.createElement('ul');

            log.exercises.forEach(ex => {
              const exItem = document.createElement('li');
              exItem.textContent = `• ${ex.exerciseId} - ${ex.setsPerformed} sets x ${ex.repsPerformed} reps at ${ex.actualWeight}kg`;
              exList.appendChild(exItem);
            });

            li.appendChild(exList);
          }

          list.appendChild(li);
        });
      })
      .catch(error => {
        console.error('Error fetching workout logs:', error);
        document.getElementById('logList').textContent = '❌ Failed to load workout logs.';
      });
  </script>
</body>
</html>
